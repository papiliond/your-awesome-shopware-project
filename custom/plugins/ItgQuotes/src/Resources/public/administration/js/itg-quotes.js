!function(t){var e={};function n(o){if(e[o])return e[o].exports;var r=e[o]={i:o,l:!1,exports:{}};return t[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(o,r,function(e){return t[e]}.bind(null,r));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/bundles/administration/",n(n.s="ZAAe")}({"/lfA":function(t,e,n){},"1k4m":function(t){t.exports=JSON.parse('{"itg-quotes":{"general":{"mainMenuItemGeneral":"ITG Quotes","descriptionTextModule":"Manage this custom module here"},"list":{"authorColumnName":"Author name","createButton":"Add author"},"create":{"cancelButton":"Cancel","saveButton":"Save","nameFieldLabel":"Author name","nameFieldPlaceholder":"Select an author...","errorTitle":"Error occured."}}}')},"3PWO":function(t,e){t.exports='\x3c!-- <plugin root>/src/Resources/app/administration/src/sw-dashboard-index-override/sw-dashboard-index.html.twig --\x3e\n{% block sw_dashboard_index_content_intro_content_headline %}\n\t<sw-card :isloading="loading" :hero="false" :large="false">\n\t\t<q v-if="quote">\n\t\t\t{{ quote.en }}\n\t\t</q>\n\t\t<span v-if="quote">{{ ` - ${quote.author}` }}</span>\n\t\t<template v-slot:footer>\n\t\t\t<div class="dashboard-widget-card-footer">\n\t\t\t\t<span>ITG Quotes</span>\n\t\t\t\t<img class="dashboard-widget-itg-logo" :src="\'/itgquotes/static/itg-logo.png\' | asset">\n\t\t\t</div>\n\t\t</template>\n\t</sw-card>\n\t{% parent %}\n{% endblock %}\n'},FGzp:function(t,e){t.exports='{% block itg_quotes_create %}\n\t<sw-page class="itg-quotes-create">\n\t\t<template slot="smart-bar-actions">\n\t\t\t<sw-button :routerlink="{name: \'itg.quotes.list\'}">\n\t\t\t\t{{ $t(\'itg-quotes.create.cancelButton\') }}\n\t\t\t</sw-button>\n\n\t\t\t<sw-button-process :isloading="isLoading" :processsuccess="processSuccess" variant="primary" @process-finish="saveFinish" @click="onClickSave">\n\t\t\t\t{{ $t(\'itg-quotes.create.saveButton\') }}\n\t\t\t</sw-button-process>\n\t\t</template>\n\t\t<template slot="content">\n\t\t\t<sw-card-view>\n\t\t\t\t<sw-card :isloading="isLoading">\n\t\t\t\t\t<sw-select-field v-if="authors" v-model="author.name" :placeholder="$t(\'itg-quotes.create.nameFieldPlaceholder\')" :label="$t(\'itg-quotes.create.nameFieldLabel\')" validation="required">\n\t\t\t\t\t\t<option v-for="author in authors">\n\t\t\t\t\t\t\t{{ author.name }}\n\t\t\t\t\t\t</option>\n\t\t\t\t\t</sw-select-field>\n\t\t\t\t</sw-card>\n\t\t\t</sw-card-view>\n\t\t</template>\n\t</sw-page>\n{% endblock %}\n'},MCGg:function(t,e){Shopware.Component.register("itg-plugin-icon",{template:"<img :src=\"'/itgquotes/static/itg-logo.png' | asset\">"})},SZ7m:function(t,e,n){"use strict";function o(t,e){for(var n=[],o={},r=0;r<e.length;r++){var i=e[r],a=i[0],s={id:t+":"+r,css:i[1],media:i[2],sourceMap:i[3]};o[a]?o[a].parts.push(s):n.push(o[a]={id:a,parts:[s]})}return n}n.r(e),n.d(e,"default",(function(){return f}));var r="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!r)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var i={},a=r&&(document.head||document.getElementsByTagName("head")[0]),s=null,u=0,c=!1,l=function(){},p=null,d="data-vue-ssr-id",h="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function f(t,e,n,r){c=n,p=r||{};var a=o(t,e);return g(a),function(e){for(var n=[],r=0;r<a.length;r++){var s=a[r];(u=i[s.id]).refs--,n.push(u)}e?g(a=o(t,e)):a=[];for(r=0;r<n.length;r++){var u;if(0===(u=n[r]).refs){for(var c=0;c<u.parts.length;c++)u.parts[c]();delete i[u.id]}}}}function g(t){for(var e=0;e<t.length;e++){var n=t[e],o=i[n.id];if(o){o.refs++;for(var r=0;r<o.parts.length;r++)o.parts[r](n.parts[r]);for(;r<n.parts.length;r++)o.parts.push(v(n.parts[r]));o.parts.length>n.parts.length&&(o.parts.length=n.parts.length)}else{var a=[];for(r=0;r<n.parts.length;r++)a.push(v(n.parts[r]));i[n.id]={id:n.id,refs:1,parts:a}}}}function m(){var t=document.createElement("style");return t.type="text/css",a.appendChild(t),t}function v(t){var e,n,o=document.querySelector("style["+d+'~="'+t.id+'"]');if(o){if(c)return l;o.parentNode.removeChild(o)}if(h){var r=u++;o=s||(s=m()),e=w.bind(null,o,r,!1),n=w.bind(null,o,r,!0)}else o=m(),e=q.bind(null,o),n=function(){o.parentNode.removeChild(o)};return e(t),function(o){if(o){if(o.css===t.css&&o.media===t.media&&o.sourceMap===t.sourceMap)return;e(t=o)}else n()}}var y,b=(y=[],function(t,e){return y[t]=e,y.filter(Boolean).join("\n")});function w(t,e,n,o){var r=n?"":o.css;if(t.styleSheet)t.styleSheet.cssText=b(e,r);else{var i=document.createTextNode(r),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(i,a[e]):t.appendChild(i)}}function q(t,e){var n=e.css,o=e.media,r=e.sourceMap;if(o&&t.setAttribute("media",o),p.ssrId&&t.setAttribute(d,e.id),r&&(n+="\n/*# sourceURL="+r.sources[0]+" */",n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */"),t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}},Vy7B:function(t,e){t.exports='{% block itg_quotes_list %}\n\t<sw-page class="itg-quotes-list">\n\t\t<template slot="smart-bar-actions">\n\t\t\t{% block itg_quotes_list_smarbar %}\n\t\t\t\t<sw-button variant="primary" :router-link="{name: \'itg.quotes.create\'}">\n\t\t\t\t\t{{ $t(\'itg-quotes.list.createButton\') }}\n\t\t\t\t</sw-button>\n\t\t\t{% endblock %}\n\t\t</template>\n\t\t<template slot="content">\n\t\t\t{% block itg_quotes_list_content %}\n\t\t\t\t<sw-entity-listing v-if="authors" :items="authors" :repository="itgQuotesAuthorRepository" :columns="columns"></sw-entity-listing>\n\t\t\t{% endblock %}\n\t\t</template>\n\t</sw-page>\n{% endblock %}\n'},ZAAe:function(t,e,n){"use strict";n.r(e);var o=n("Vy7B"),r=n.n(o),i=Shopware.Component,a=Shopware.Data.Criteria;i.register("itg-quotes-list",{template:r.a,metaInfo:function(){return{title:this.$createTitle()}},inject:{repositoryFactory:"repositoryFactory"},computed:{itgQuotesAuthorRepository:function(){return this.repositoryFactory.create("itg_quotes_author")},columns:function(){return[{property:"name",dataIndex:"name",label:this.$tc("itg-quotes.list.authorColumnName"),inlineEdit:"string",allowResize:!0}]}},data:function(){return{isLoading:!0,authors:null}},created:function(){var t=this;this.itgQuotesAuthorRepository.search(new a,Shopware.Context.api).then((function(e){t.authors=e}))}});var s=n("FGzp"),u=n.n(s),c=Shopware,l=c.Component,p=c.Mixin;l.register("itg-quotes-create",{template:u.a,inject:{quotesService:"quotes",repositoryFactory:"repositoryFactory"},mixins:[p.getByName("notification")],computed:{itgQuotesAuthorRepository:function(){return this.repositoryFactory.create("itg_quotes_author")}},data:function(){return{author:null,authors:null,isLoading:!0,processSuccess:!1}},created:function(){this.author=this.itgQuotesAuthorRepository.create(Shopware.Context.api),this.getAvailableAuthors()},methods:{getAvailableAuthors:function(){var t=this;this.isLoading=!0,this.quotesService.getAuthors().then((function(e){t.authors=e,t.isLoading=!1})).catch((function(e){t.isLoading=!1}))},onClickSave:function(){var t=this;this.isLoading=!0,this.itgQuotesAuthorRepository.save(this.author,Shopware.Context.api).then((function(){t.isLoading=!1,t.$router.push({name:"itg.quotes.list"})})).catch((function(e){t.isLoading=!1,t.createNotificationError({title:t.$tc("itg-quotes.create.errorTitle"),message:e})}))},saveFinish:function(){this.processSuccess=!1}}});var d=n("3PWO"),h=n.n(d),f=(n("csGf"),Shopware),g=f.Component,m=f.Context,v=Shopware.Data.Criteria;g.override("sw-dashboard-index",{inject:{quotesService:"quotes",repositoryFactory:"repositoryFactory"},template:h.a,computed:{itgQuotesAuthorRepository:function(){return this.repositoryFactory.create("itg_quotes_author")}},data:function(){return{quote:null,loading:!0}},created:function(){var t=this;this.itgQuotesAuthorRepository.search(new v,m.api).then((function(e){var n=e[Math.floor(Math.random()*e.length)].name;t.quotesService.getQuote(n).then((function(e){t.quote=e})),t.loading=!1})).catch((function(){t.loading=!1}))}});n("MCGg");function y(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=t&&("undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"]);if(null==n)return;var o,r,i=[],a=!0,s=!1;try{for(n=n.call(t);!(a=(o=n.next()).done)&&(i.push(o.value),!e||i.length!==e);a=!0);}catch(t){s=!0,r=t}finally{try{a||null==n.return||n.return()}finally{if(s)throw r}}return i}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return b(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return b(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function w(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var q=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.httpClient=e}var e,n,o;return e=t,(n=[{key:"getRandomQuote",value:function(){return fetch("https://programming-quotes-api.herokuapp.com/Quotes/random",{method:"GET",mode:"cors"}).then((function(t){if(t.ok)return t.json();throw new Error("Response was not ok")})).then((function(t){return t})).catch((function(t){console.error("Couldn't fetch quote.",t)}))}},{key:"getQuote",value:function(t){return fetch("https://programming-quotes-api.herokuapp.com/Quotes/Author/".concat(encodeURIComponent(t)),{method:"GET",mode:"cors"}).then((function(t){if(t.ok)return t.json();throw new Error("Response was not ok")})).then((function(t){return t[Math.floor(Math.random()*t.length)]})).catch((function(t){console.error("Couldn't fetch quote.",t)}))}},{key:"getAuthors",value:function(){return fetch("https://programming-quotes-api.herokuapp.com/Authors",{method:"GET",mode:"cors"}).then((function(t){if(t.ok)return t.json();throw new Error("Response was not ok")})).then((function(t){return Object.entries(t).map((function(t){return y(t,2)[1]})).sort((function(t,e){return t.name>=e.name?1:-1}))})).catch((function(t){console.error("Couldn't fetch authors.",t)}))}}])&&w(e.prototype,n),o&&w(e,o),t}();Shopware.Service().register("quotes",(function(){var t=Shopware.Application.getContainer("init");return new q(t.httpClient)}));var S=n("1k4m");Shopware.Module.register("itg-quotes",{type:"plugin",name:"ITG Quotes",title:"itg-quotes.general.mainMenuItemGeneral",description:"itg-quotes.general.descriptionTextModule",color:"#ff3d58",iconComponent:"itg-plugin-icon",snippets:{"en-GB":S},routes:{list:{path:"list",component:"itg-quotes-list"},create:{path:"create",component:"itg-quotes-create",meta:{parentPath:"itg.quotes.list"}}},settingsItem:[{group:"plugins",to:"itg.quotes.list",iconComponent:"itg-plugin-icon",name:"itg-quotes.general.mainMenuItemGeneral"}]})},csGf:function(t,e,n){var o=n("/lfA");"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);(0,n("SZ7m").default)("8e7ee55a",o,!0,{})}});