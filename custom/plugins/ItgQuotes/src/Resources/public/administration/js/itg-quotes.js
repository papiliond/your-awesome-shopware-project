!function(t){var e={};function n(o){if(e[o])return e[o].exports;var r=e[o]={i:o,l:!1,exports:{}};return t[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(o,r,function(e){return t[e]}.bind(null,r));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/bundles/administration/",n(n.s="ZAAe")}({"/D8o":function(t,e){t.exports='{% block itg_quotes_list %}\n\t<sw-page class="itg-quotes-list">\n\t\t<template slot="smart-bar-actions">\n\t\t\t{% block itg_quotes_list_smarbar %}\n\t\t\t\t<sw-button variant="primary" :router-link="{name: \'itg.quotes.create\'}">\n\t\t\t\t\t{{ $t(\'itg-quotes.list.createButton\') }}\n\t\t\t\t</sw-button>\n\t\t\t{% endblock %}\n\t\t</template>\n\t\t<template slot="content">\n\t\t\t{% block itg_quotes_list_content %}\n\t\t\t\t<sw-entity-listing v-if="authors" :items="authors" :repository="itgQuotesAuthorRepository" :columns="columns"></sw-entity-listing>\n\t\t\t{% endblock %}\n\t\t</template>\n\t</sw-page>\n{% endblock %}\n'},AeZg:function(t,e){t.exports="<img :src=\"'/itgquotes/static/itg-logo.png' | asset\">\n"},DLoN:function(t,e){t.exports='{% block itg_quotes_create %}\n\t<sw-page class="itg-quotes-create">\n\t\t<template slot="smart-bar-actions">\n\t\t\t<sw-button :routerlink="{name: \'itg.quotes.list\'}">\n\t\t\t\t{{ $t(\'itg-quotes.create.cancelButton\') }}\n\t\t\t</sw-button>\n\n\t\t\t<sw-button-process :isloading="isLoading" :processsuccess="processSuccess" variant="primary" @process-finish="saveFinish" @click="onClickSave">\n\t\t\t\t{{ $t(\'itg-quotes.create.saveButton\') }}\n\t\t\t</sw-button-process>\n\t\t</template>\n\t\t<template slot="content">\n\t\t\t<sw-card-view>\n\t\t\t\t<sw-card :isloading="isLoading">\n\t\t\t\t\t<sw-select-field v-if="authors" v-model="author.name" :placeholder="$t(\'itg-quotes.create.nameFieldPlaceholder\')" :label="$t(\'itg-quotes.create.nameFieldLabel\')" validation="required">\n\t\t\t\t\t\t<option v-for="author in authors">\n\t\t\t\t\t\t\t{{ author.name }}\n\t\t\t\t\t\t</option>\n\t\t\t\t\t</sw-select-field>\n\t\t\t\t</sw-card>\n\t\t\t</sw-card-view>\n\t\t</template>\n\t</sw-page>\n{% endblock %}\n'},IAZC:function(t,e){t.exports="\x3c!-- <plugin root>/src/Resources/app/administration/src/sw-dashboard-index-override/sw-dashboard-index.html.twig --\x3e\n{% block sw_dashboard_index_content_intro_content_headline %}\n\t<h1>\n\t\t{{ quote }}\n\t</h1>\n\t{% parent %}\n{% endblock %}\n"},ZAAe:function(t,e,n){"use strict";n.r(e);var o=n("DLoN"),r=n.n(o),i=Shopware,a=i.Component,s=i.Mixin;a.register("itg-quotes-create",{template:r.a,inject:{quotesService:"quotes",repositoryFactory:"repositoryFactory"},mixins:[s.getByName("notification")],computed:{itgQuotesAuthorRepository:function(){return this.repositoryFactory.create("itg_quotes_author")}},data:function(){return{author:null,authors:null,isLoading:!0,processSuccess:!1}},created:function(){this.entity=this.itgQuotesAuthorRepository.create(Shopware.Context.api),this.getAvailableAuthors()},methods:{getAvailableAuthors:function(){var t=this;this.isLoading=!0,this.quotesService.getAuthors().then((function(e){t.authors=e,t.isLoading=!1})).catch((function(e){t.isLoading=!1}))},onClickSave:function(){var t=this;this.isLoading=!0,this.itgQuotesAuthorRepository.save(this.author,Shopware.Context.api).then((function(){t.isLoading=!1,t.$router.push({name:"itg.quotes.list"})})).catch((function(e){t.isLoading=!1,t.createNotificationError({title:t.$tc("itg-quotes.create.errorTitle"),message:e})}))},saveFinish:function(){this.processSuccess=!1}}});var u=n("/D8o"),c=n.n(u),l=Shopware.Component,p=Shopware.Data.Criteria;l.register("itg-quotes-list",{template:c.a,inject:{repositoryFactory:"repositoryFactory"},computed:{itgQuotesAuthorRepository:function(){return this.repositoryFactory.create("itg_quotes_author")},columns:function(){return[{property:"name",dataIndex:"name",label:this.$tc("itg-quotes.list.authorColumnName"),inlineEdit:"string",allowResize:!0}]}},data:function(){return{isLoading:!0,authors:null}},created:function(){var t=this;this.itgQuotesAuthorRepository.search(new p,Shopware.Context.api).then((function(e){t.authors=e}))},metaInfo:function(){return{title:this.$createTitle()}}});var h=n("AeZg"),f=n.n(h);Shopware.Component.register("itg-plugin-icon",{template:f.a});var g=n("IAZC"),d=n.n(g);Shopware.Component.override("sw-dashboard-index",{inject:{quotesService:"quotes"},template:d.a,data:function(){return{quote:""}},created:function(){this.showQuote()},methods:{showQuote:function(){var t=this;this.quotesService.getQuote().then((function(e){t.quote=e.en}))}}});var m=n("uECm");function y(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=t&&("undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"]);if(null==n)return;var o,r,i=[],a=!0,s=!1;try{for(n=n.call(t);!(a=(o=n.next()).done)&&(i.push(o.value),!e||i.length!==e);a=!0);}catch(t){s=!0,r=t}finally{try{a||null==n.return||n.return()}finally{if(s)throw r}}return i}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return v(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return v(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function b(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var w=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.httpClient=e}var e,n,o;return e=t,(n=[{key:"getRandomQuote",value:function(){return fetch("https://programming-quotes-api.herokuapp.com/Quotes/random",{method:"GET",mode:"cors"}).then((function(t){if(t.ok)return t.json();throw new Error("Response was not ok")})).then((function(t){return t[Math.floor(Math.random()*(t.length+1))]})).catch((function(t){console.error("Couldn't fetch quote.",t)}))}},{key:"getQuote",value:function(t){return fetch("https://programming-quotes-api.herokuapp.com/Author/".concat(encodeURIComponent(t)),{method:"GET",mode:"cors"}).then((function(t){if(t.ok)return t.json();throw new Error("Response was not ok")})).catch((function(t){console.error("Couldn't fetch quote.",t)}))}},{key:"getAuthors",value:function(){return fetch("https://programming-quotes-api.herokuapp.com/Authors",{method:"GET",mode:"cors"}).then((function(t){if(t.ok)return t.json();throw new Error("Response was not ok")})).then((function(t){return Object.entries(t).map((function(t){return y(t,2)[1]}))})).catch((function(t){console.error("Couldn't fetch authors.",t)}))}}])&&b(e.prototype,n),o&&b(e,o),t}();Shopware.Service().register("quotes",(function(){var t=Shopware.Application.getContainer("init");return new w(t.httpClient)})),Shopware.Module.register("itg-quotes",{type:"plugin",name:"ITG Quotes",title:"itg-quotes.general.mainMenuItemGeneral",description:"itg-quotes.general.descriptionTextModule",color:"#ff3d58",iconComponent:"itg-plugin-icon",snippets:{"en-GB":m},routes:{list:{path:"list",component:"itg-quotes-list"},create:{path:"create",component:"itg-quotes-create",meta:{parentPath:"itg.quotes.list"}}},settingsItem:[{group:"plugins",to:"itg.quotes.list",iconComponent:"itg-plugin-icon",name:"itg-quotes.general.mainMenuItemGeneral"}]})},uECm:function(t){t.exports=JSON.parse('{"itg-quotes":{"general":{"mainMenuItemGeneral":"ITG Quotes","descriptionTextModule":"Manage this custom module here"},"list":{"authorColumnName":"Author name","createButton":"Add author"},"create":{"cancelButton":"Cancel","saveButton":"Save","nameFieldLabel":"Author name","nameFieldPlaceholder":"Select an author...","errorTitle":"Error occured."}}}')}});